<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SAE 3.A.01 - Projet Fitpulse - Groupe 3 - 2024/2025: Répertoire de référence de node_modules/@parcel/watcher</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SAE 3.A.01 - Projet Fitpulse - Groupe 3 - 2024/2025
   </div>
   <div id="projectbrief">Application Sport et Bien-être permettant d&#39;organiser de mettre en relation des Coachs sportifs et des Pratiquants pour organiser des séances d&#39;entraînement</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Recherche',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Chargement...</div>
<div class="SRStatus" id="Searching">Recherche...</div>
<div class="SRStatus" id="NoMatches">Aucune correspondance</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_4e3ab18540de1688beeb5ed03213355a.html">@parcel</a></li><li class="navelem"><a class="el" href="dir_d661b7c1161168fa71e79234715a7cb6.html">watcher</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">Répertoire de référence de watcher</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="subdirs" name="subdirs"></a>
Répertoires</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_61ad78585a251b1bbf894318ce8b2ed0.html">src</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<p>A native C++ Node module for querying and subscribing to filesystem events. Used by <a href="https://github.com/parcel-bundler/parcel">Parcel 2</a>.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Features</h1>
<ul>
<li><b>Watch</b> - subscribe to realtime recursive directory change notifications when files or directories are created, updated, or deleted.</li>
<li><b>Query</b> - performantly query for historical change events in a directory, even when your program is not running.</li>
<li><b>Native</b> - implemented in C++ for performance and low-level integration with the operating system.</li>
<li><b>Cross platform</b> - includes backends for macOS, Linux, Windows, FreeBSD, and Watchman.</li>
<li><b>Performant</b> - events are throttled in C++ so the JavaScript thread is not overwhelmed during large filesystem changes (e.g. <code>git checkout</code> or <code>npm install</code>).</li>
<li><b>Scalable</b> - tens of thousands of files can be watched or queried at once with good performance.</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Example</h1>
<div class="fragment"><div class="line">const watcher = require(&#39;@parcel/watcher&#39;);</div>
<div class="line">const path = require(&#39;path&#39;);</div>
<div class="line"> </div>
<div class="line">// Subscribe to events</div>
<div class="line">let subscription = await watcher.subscribe(process.cwd(), (err, events) =&gt; {</div>
<div class="line">  console.log(events);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// later on...</div>
<div class="line">await subscription.unsubscribe();</div>
<div class="line"> </div>
<div class="line">// Get events since some saved snapshot in the past</div>
<div class="line">let snapshotPath = path.join(process.cwd(), &#39;snapshot.txt&#39;);</div>
<div class="line">let events = await watcher.getEventsSince(process.cwd(), snapshotPath);</div>
<div class="line"> </div>
<div class="line">// Save a snapshot for later</div>
<div class="line">await watcher.writeSnapshot(process.cwd(), snapshotPath);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Watching</h1>
<p><code>@parcel/watcher</code> supports subscribing to realtime notifications of changes in a directory. It works recursively, so changes in sub-directories will also be emitted.</p>
<p>Events are throttled and coalesced for performance during large changes like <code>git checkout</code> or <code>npm install</code>, and a single notification will be emitted with all of the events at the end.</p>
<p>Only one notification will be emitted per file. For example, if a file was both created and updated since the last event, you'll get only a <code>create</code> event. If a file is both created and deleted, you will not be notifed of that file. Renames cause two events: a <code>delete</code> for the old name, and a <code>create</code> for the new name.</p>
<div class="fragment"><div class="line">let subscription = await watcher.subscribe(process.cwd(), (err, events) =&gt; {</div>
<div class="line">  console.log(events);</div>
<div class="line">});</div>
</div><!-- fragment --><p>Events have two properties:</p>
<ul>
<li><code>type</code> - the event type: <code>create</code>, <code>update</code>, or <code>delete</code>.</li>
<li><code>path</code> - the absolute path to the file or directory.</li>
</ul>
<p>To unsubscribe from change notifications, call the <code>unsubscribe</code> method on the returned subscription object.</p>
<div class="fragment"><div class="line">await subscription.unsubscribe();</div>
</div><!-- fragment --><p><code>@parcel/watcher</code> has the following watcher backends, listed in priority order:</p>
<ul>
<li><a href="https://developer.apple.com/documentation/coreservices/file_system_events">FSEvents</a> on macOS</li>
<li><a href="https://facebook.github.io/watchman/">Watchman</a> if installed</li>
<li><a href="http://man7.org/linux/man-pages/man7/inotify.7.html">inotify</a> on Linux</li>
<li><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365465%28v%3Dvs.85%29.aspx">ReadDirectoryChangesW</a> on Windows</li>
<li><a href="https://man.freebsd.org/cgi/man.cgi?kqueue">kqueue</a> on FreeBSD, or as an alternative to FSEvents on macOS</li>
</ul>
<p>You can specify the exact backend you wish to use by passing the <code>backend</code> option. If that backend is not available on the current platform, the default backend will be used instead. See below for the list of backend names that can be passed to the options.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Querying</h1>
<p><code>@parcel/watcher</code> also supports querying for historical changes made in a directory, even when your program is not running. This makes it easy to invalidate a cache and re-build only the files that have changed, for example. It can be <b>significantly</b> faster than traversing the entire filesystem to determine what files changed, depending on the platform.</p>
<p>In order to query for historical changes, you first need a previous snapshot to compare to. This can be saved to a file with the <code>writeSnapshot</code> function, e.g. just before your program exits.</p>
<div class="fragment"><div class="line">await watcher.writeSnapshot(dirPath, snapshotPath);</div>
</div><!-- fragment --><p>When your program starts up, you can query for changes that have occurred since that snapshot using the <code>getEventsSince</code> function.</p>
<div class="fragment"><div class="line">let events = await watcher.getEventsSince(dirPath, snapshotPath);</div>
</div><!-- fragment --><p>The events returned are exactly the same as the events that would be passed to the <code>subscribe</code> callback (see above).</p>
<p><code>@parcel/watcher</code> has the following watcher backends, listed in priority order:</p>
<ul>
<li><a href="https://developer.apple.com/documentation/coreservices/file_system_events">FSEvents</a> on macOS</li>
<li><a href="https://facebook.github.io/watchman/">Watchman</a> if installed</li>
<li><a href="http://man7.org/linux/man-pages/man3/fts.3.html">fts</a> (brute force) on Linux and FreeBSD</li>
<li><a href="https://docs.microsoft.com/en-us/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea">FindFirstFile</a> (brute force) on Windows</li>
</ul>
<p>The FSEvents (macOS) and Watchman backends are significantly more performant than the brute force backends used by default on Linux and Windows, for example returning results in miliseconds instead of seconds for large directory trees. This is because a background daemon monitoring filesystem changes on those platforms allows us to query cached data rather than traversing the filesystem manually (brute force).</p>
<p>macOS has good performance with FSEvents by default. For the best performance on other platforms, install <a href="https://facebook.github.io/watchman/">Watchman</a> and it will be used by <code>@parcel/watcher</code> automatically.</p>
<p>You can specify the exact backend you wish to use by passing the <code>backend</code> option. If that backend is not available on the current platform, the default backend will be used instead. See below for the list of backend names that can be passed to the options.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Options</h1>
<p>All of the APIs in <code>@parcel/watcher</code> support the following options, which are passed as an object as the last function argument.</p>
<ul>
<li><code>ignore</code> - an array of paths or glob patterns to ignore. uses <a href="https://github.com/micromatch/is-glob"><code>is-glob</code></a> to distinguish paths from globs. glob patterns are parsed with <a href="https://github.com/micromatch/micromatch"><code>micromatch</code></a> (see <a href="https://github.com/micromatch/micromatch#matching-features">features</a>).<ul>
<li>paths can be relative or absolute and can either be files or directories. No events will be emitted about these files or directories or their children.</li>
<li>glob patterns match on relative paths from the root that is watched. No events will be emitted for matching paths.</li>
</ul>
</li>
<li><code>backend</code> - the name of an explicitly chosen backend to use. Allowed options are <code>"fs-events"</code>, <code>"watchman"</code>, <code>"inotify"</code>, <code>"kqueue"</code>, <code>"windows"</code>, or <code>"brute-force"</code> (only for querying). If the specified backend is not available on the current platform, the default backend will be used instead.</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
WASM</h1>
<p>The <code>@parcel/watcher-wasm</code> package can be used in place of <code>@parcel/watcher</code> on unsupported platforms. It relies on the Node <code>fs</code> module, so in non-Node environments such as browsers, an <code>fs</code> polyfill will be needed.</p>
<p><b>Note</b>: the WASM implementation is significantly less efficient than the native implementations because it must crawl the file system to watch each directory individually. Use the native <code>@parcel/watcher</code> package wherever possible.</p>
<div class="fragment"><div class="line">import {subscribe} from &#39;@parcel/watcher-wasm&#39;;</div>
<div class="line"> </div>
<div class="line">// Use the module as documented above.</div>
<div class="line">subscribe(/* ... */);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
Who is using this?</h1>
<ul>
<li><a href="https://parceljs.org/">Parcel 2</a></li>
<li><a href="https://code.visualstudio.com/updates/v1_62#_file-watching-changes">VSCode</a></li>
<li><a href="https://github.com/tailwindlabs/tailwindcss-intellisense">Tailwind CSS Intellisense</a></li>
<li><a href="https://twitter.com/chatsidhartha/status/1435647412828196867">Gatsby Cloud</a></li>
<li><a href="https://nx.dev">Nx</a></li>
<li><a href="https://nuxt.com">Nuxt</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
License</h1>
<p>MIT </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
